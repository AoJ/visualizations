<!DOCTYPE html>
<html lang="en">
<head>
  <title>101st Congress Votes</title>
  <script type="text/javascript" src="../lib/jquery.js"></script>
  <script type="text/javascript" src="../lib/underscore.js"></script>
  <script type="text/javascript" src="../lib/backbone.js"></script>
  <script type="text/javascript" src="js/heatmap.js"></script>
  <link rel="stylesheet" href="style.css" type="text/css" />
</head>
<body>
<div id="topbar">
  <div id="options">
    <label for="year">Year:</label>
    <select id="yearSelect">
      <option value="1990">1990</option>
      <option value="1991">1991</option>
      <option value="2011">2011</option>
    </select>
    <a href="#" id="hires">Zoom Out</a>
  </div>
  <h1>Congress Votes <span class="date"></span></h1>
  <p>
    This is a visualization of the <a href="http://clerk.house.gov/evs/2011/index.asp">roll call votes of the 101st Congress</a>.<br/>
    Each row is a legislator. Each column is a roll call vote. Click to sort by column. A description for each roll will be in the next version.
  </p>
  <p>
    Key:
    <strong>
      <span class="color1">Yea</span> |
      <span class="color0">Nay</span> |
      <span class="color4">Present</span> |
      <span class="color3">Not Voting</span> |
      <span class="color5">Not in Congress at the time</a>
    </strong>
  </p>
</div>
<div id="stats">
  <ul>
    <li>
      <strong>Legislator</strong>:
      <span id="legislator">n/a</span>
    </li>
    <li>
      <strong>Roll</strong>:
      <span id="j">n/a</span>
    </li>
    <li>
      <strong>Vote</strong>:
      <span id="val">n/a</span>
    </li>
  </ul>
</div>
<h2 id="loading">Loading <span class="date"></span>  US House Votes...</h2>
<div id="heatmap-wrap">
  <canvas id="heatmap" height=300 width=900></canvas>
</div>
<script type="text/javascript" src="js/init.js"></script>
<script>
function render() {
  var val = $('#yearSelect').val();
  $('.date').each(function() {
    $(this).text(val);
  });
  if (val == 2011) {
    initHeat({
      year:val,
      colors:{
        "Boehner":"#0b0",
        "Pelosi":"#e30"
      },
      vote_key:{
        "Boehner":"Boehner",
        "Pelosi":"Pelosi"
      }
    });
  } else {
    initHeat({
      year:val 
    });
  }
  $('#loading').fadeOut();
  $('#heatmap-wrap').fadeIn();
};
render();
$('#yearSelect').change(function() {
  $('#heatmap-wrap').hide();
  $('#loading').show();
  render();  
});
</script>
</body>
</html>
